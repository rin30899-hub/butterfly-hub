<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Butterfly Hub — Contact</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>

  <!-- Your site styles -->
  <link rel="stylesheet" href="/assets/css/styles.css"/>

  <style>
    .social-btn {
      width: 44px; height: 44px; border-radius: 50%;
      display: inline-flex; align-items: center; justify-content: center; padding: 0;
    }
    .social-btn i { font-size: 1.25rem; }
    .social-btn:hover { transform: translateY(-1px); }

    /* inline error text placed UNDER fields */
    .field-error { color: #dc3545; font-size: .875rem; margin-top: .25rem; }
    .is-invalid { border-color: #dc3545; }
  </style>
</head>
<body>
  <%- include('partials/navbar') %>


  <main class="container my-5">
    <h1 class="mb-4">Contact Us</h1>

    <form id="contactForm" novalidate>
      <div id="contactAlert" class="mb-3"></div>

      <!-- Name -->
      <div class="mb-3">
        <label for="qName" class="form-label">Name:</label>
        <input type="text" class="form-control" id="qName" required aria-describedby="qNameError">
        <!-- ERROR UNDER FIELD -->
        <div id="qNameError" class="field-error"></div>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label for="qEmail" class="form-label">Email:</label>
        <input type="email" class="form-control" id="qEmail" required aria-describedby="qEmailError">
        <!-- ERROR UNDER FIELD -->
        <div id="qEmailError" class="field-error"></div>
      </div>

      <!-- Phone -->
      <div class="mb-3">
        <label for="qPhone" class="form-label">Phone:</label>
        <input type="tel" class="form-control" id="qPhone" required aria-describedby="qPhoneError">
        <!-- ERROR UNDER FIELD -->
        <div id="qPhoneError" class="field-error"></div>
      </div>

      <!-- Query -->
      <div class="mb-3">
        <label for="qMsg" class="form-label">Your Query:</label>
        <textarea class="form-control" id="qMsg" rows="4" required aria-describedby="qMsgError"></textarea>
        <!-- ✅ ERROR UNDER THE TEXTAREA (as requested) -->
        <div id="qMsgError" class="field-error"></div>
      </div>

      <button type="submit" class="btn btn-primary">Send</button>
    </form>

    <hr class="my-5"/>

    <!-- Social media links -->
    <section aria-labelledby="social-heading">
      <h2 id="social-heading" class="h5 mb-3">Connect with us</h2>
      <div class="d-flex flex-wrap gap-2">
        <a href="https://facebook.com/yourpage" class="btn btn-outline-primary social-btn" target="_blank" aria-label="Facebook">
          <i class="bi bi-facebook"></i><span class="visually-hidden">Facebook</span>
        </a>
        <a href="https://instagram.com/yourpage" class="btn btn-outline-danger social-btn" target="_blank" aria-label="Instagram">
          <i class="bi bi-instagram"></i><span class="visually-hidden">Instagram</span>
        </a>
        <a href="https://x.com/yourpage" class="btn btn-outline-dark social-btn" target="_blank" aria-label="X (Twitter)">
          <i class="bi bi-twitter-x"></i><span class="visually-hidden">X (Twitter)</span>
        </a>
        <a href="https://youtube.com/@yourpage" class="btn btn-outline-danger social-btn" target="_blank" aria-label="YouTube">
          <i class="bi bi-youtube"></i><span class="visually-hidden">YouTube</span>
        </a>
        <a href="https://linkedin.com/company/yourpage" class="btn btn-outline-primary social-btn" target="_blank" aria-label="LinkedIn">
          <i class="bi bi-linkedin"></i><span class="visually-hidden">LinkedIn</span>
        </a>
      </div>
    </section>
  </main>

  <footer class="footer mt-5 py-4">
    <div class="container small d-flex flex-column flex-lg-row justify-content-between gap-2">
      <span>© 2025 Butterfly Hub</span>
      <span>123 Garden Lane, Melbourne VIC 3000 • (03) 9000 0000 • info@butterflyhub.au • Mon–Fri 9–5</span>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Simple inline validator (shows errors UNDER each field) -->
  <script>
    (function () {
      const form = document.getElementById('contactForm');
      const alertBox = document.getElementById('contactAlert');

      const fields = {
        qName:  { el: document.getElementById('qName'),  err: document.getElementById('qNameError'),  rule: v => v.trim().length >= 2 || 'Please enter your full name.' },
        qEmail: { el: document.getElementById('qEmail'), err: document.getElementById('qEmailError'), rule: v => /^\S+@\S+\.\S+$/.test(v) || 'Please enter a valid email address.' },
        qPhone: { el: document.getElementById('qPhone'), err: document.getElementById('qPhoneError'), rule: v => /^[0-9 +()-]{8,}$/.test(v) || 'Please enter a valid phone number.' },
        qMsg:   { el: document.getElementById('qMsg'),   err: document.getElementById('qMsgError'),   rule: v => v.trim().length >= 10 || 'Please provide at least 10 characters.' }
      };

      function showError(field, message) {
        field.el.classList.add('is-invalid');
        field.err.textContent = message;
      }
      function clearError(field) {
        field.el.classList.remove('is-invalid');
        field.err.textContent = '';
      }

      // Validate on blur
      Object.values(fields).forEach(f => {
        f.el.addEventListener('blur', () => {
          const res = f.rule(f.el.value);
          if (res !== true) showError(f, res); else clearError(f);
        });
      });

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        alertBox.innerHTML = '';
        let errors = 0;

        Object.values(fields).forEach(f => {
          const res = f.rule(f.el.value);
          if (res !== true) { showError(f, res); errors++; } else { clearError(f); }
        });

        if (errors) {
          alertBox.innerHTML = '<div class="alert alert-danger" role="alert">Please fix the highlighted fields.</div>';
          return;
        }

        // Success UI (you can replace with POST to your server)
        alertBox.innerHTML = '<div class="alert alert-success" role="alert">Thanks! We\'ll be in touch shortly.</div>';
        form.reset();
      });
    })();
  </script>
</body>
</html>
